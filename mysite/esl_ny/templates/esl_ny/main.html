{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>NYC Limited English Proficiency Speakers</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="{% static 'esl_ny/css/styles.css' %}" /> 
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
        integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
        crossorigin=""/>
    </head>
    <body class="d-flex flex-column">
        <main class="flex-grow-1 d-flex">
            <div class="container-fluid flex-grow-1 d-flex flex-column">
                <div class="row">
                    <div class="col-12">
                        <div class="title p-2 mt-3 panel text-center">
                            <h1>New York City<br>Limited English Proficiency Speakers</h1>
                            <p class="m-0">Use the interactive charts below to explore the dataset</p>
                        </div>
                    </div>
                </div>
                <div class="row align-items-stretch flex-grow-1 ">
                    <div class="col-md-5">
                        <div class="panel mt-3">
                            <div class="panel-heading" id="demo-panel-title">
                                <h3 class="panel-title">    Filters</h3>
                            </div>
                            <label class="d-flex column-gap-1">Language:
                            <select id="select-language" onchange="languageChanged()">
                                <option value="" selected>All</option>
                                {%for l in languages%}
                                <option value="{{ l.id }}">{{l}}</option>
                                {%endfor%}
                            </select>
                            </label>
                            <span class="d-flex column-gap-1">Display:
                            <div class="d-flex column-gap-3 flex-wrap">
                                <label class="d-flex column-gap-1"><input type="radio" id="sunburst-input"name="content" value="sunburst" checked onchange="optionChanged()">Sunburst</label>
                                <label class="d-flex column-gap-1"><input type="radio" id="map-input" name="content" value="map" onchange="optionChanged()">Map</label>
                            </div>
                            </span>
                        </div>
                        <div class="mt-3 panel panel-primary" id="panel-demo">
                            <div class="panel-heading" id="demo-panel-title">
                                <h3 class="panel-title">Demographic Information</h3>
                            </div>
                            <div id="panel-body" class="panel-body">
                                <div id="sample-metadata"></div>
                                <div id="bar"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7 d-flex align-items-stretch">
                        <div class="content-container panel mt-3 flex-grow-1">
                            <div id="map-container"></div>
                            <div class="forward" id="sunburst-container"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="d-flex flex-column p-3 mt-3 panel flex-md-row justify-content-evenly" id="footer-flex">
            <div class="d-flex justify-content-center align-items-center">
                <img src="{% static 'esl_ny/images/icon.png' %}" height="90">
            </div>
            <div class="d-flex flex-column">
                <h6 class="m-0 p-1">Contact</h6>
                <span><i class="bi bi-github pe-2"></i>Github: <a href="https://github.com/javrobs" target="_blank">/javrobs</a></span>
                <span><i class="bi bi-envelope pe-2"></i>Email: <a href="mailto:javieroblesamar@gmail.com" target="_blank">javieroblesamar@gmail.com</a></span>
                <span><i class="bi bi-linkedin pe-2"></i>LinkedIn: <a href="https://www.linkedin.com/in/javier-robles-samar/" target="_blank">/javier-robles-samar</a></span>
            </div>
            <div class="d-flex flex-column">
                <h6 class="m-0 p-1">Sources</h6>
                <span><i class="bi bi-diagram-2 pe-2"></i>Forked from project: <a href="https://github.com/javrobs/nyc_lep_speakers" target="_blank">NYC LEP speakers</a></span>
                <span><i class="bi bi-file-earmark-bar-graph pe-2"></i>Data from: <a href="https://data.cityofnewyork.us/City-Government/Population-and-Languages-of-the-Limited-English-Pr/ajin-gkbp" target="_blank">NYC Open Data</a></span>
                <span><i class="bi bi-image pe-2"></i>Background from: <a href="https://unsplash.com/es/fotos/LGtJ44QWo_c?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank">Unsplash</a> | By <a href="https://unsplash.com/pt-br/@kaip?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Kai Pilger</a></span>
            </div>
        </footer>
    </body>
    <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
        integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
        crossorigin=""></script>
    <script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script type="text/javascript" src="{% static 'esl_ny/js/sunburst.js'%}"></script>
    <script type="text/javascript" src="{% static 'esl_ny/js/barChart.js'%}"></script>
    <script type="text/javascript" src="{% static 'esl_ny/js/map.js'%}"></script>
    <script type="text/javascript" src="{% static 'esl_ny/js/main.js'%}"></script>
    <script type="text/javascript" src="{% static 'esl_ny/js/choropleth.js'%}"></script>
</html>
